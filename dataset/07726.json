{
  "Title": "[01] Un-indexed Parameters in Events",
  "Content": "\nConsider indexing parameters for events, serving as logs filter when looking for specifically wanted data. Up to three parameters in an event function can receive the attribute `indexed` which will cause the respective arguments to be treated as log topics instead of data. Here is one of the instances entailed:\n\nhttps://github.com/code-423n4/2022-11-looksrare/blob/main/contracts/interfaces/ILooksRareAggregator.sol#L44\n\n```\n    event FeeUpdated(address proxy, uint256 bp, address recipient);\n```\n",
  "Impact": "LOW",
  "Source": "https://code4rena.com/reports/2022-11-looksrare",
  "Code": [
    {
      "filename": "contracts/interfaces/ILooksRareAggregator.sol",
      "content": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.17;\n\nimport {BasicOrder, TokenTransfer} from \"../libraries/OrderStructs.sol\";\n\ninterface ILooksRareAggregator {\n    struct TradeData {\n        address proxy; // The marketplace proxy's address\n        bytes4 selector; // The marketplace proxy's function selector\n        uint256 value; // The amount of ETH passed to the proxy during the function call\n        uint256 maxFeeBp; // The maximum fee basis point the buyer is willing to pay\n        BasicOrder[] orders; // Orders to be executed by the marketplace\n        bytes[] ordersExtraData; // Extra data for each order, specific for each marketplace\n        bytes extraData; // Extra data specific for each marketplace\n    }\n\n    /**\n     * @notice Execute NFT sweeps in different marketplaces in a single transaction\n     * @param tokenTransfers Aggregated ERC20 token transfers for all markets\n     * @param tradeData Data object to be passed downstream to each marketplace's proxy for execution\n     * @param originator The address that originated the transaction, hardcoded as msg.sender if it is called directly\n     * @param recipient The address to receive the purchased NFTs\n     * @param isAtomic Flag to enable atomic trades (all or nothing) or partial trades\n     */\n    function execute(\n        TokenTransfer[] calldata tokenTransfers,\n        TradeData[] calldata tradeData,\n        address originator,\n        address recipient,\n        bool isAtomic\n    ) external payable;\n\n    /**\n     * @dev Emitted when erc20EnabledLooksRareAggregator is set\n     */\n    event ERC20EnabledLooksRareAggregatorSet();\n\n    /**\n     * @dev Emitted when fee is updated\n     * @param proxy Proxy to apply the fee to\n     * @param bp Fee basis point\n     * @param recipient Fee recipient\n     */\n    event FeeUpdated(address proxy, uint256 bp, address recipient);\n\n    /**\n     * @notice Emitted when a marketplace proxy's function is enabled.\n     * @param proxy The marketplace proxy's address\n     * @param selector The marketplace proxy's function selector\n     */\n    event FunctionAdded(address indexed proxy, bytes4 selector);\n\n    /**\n     * @notice Emitted when a marketplace proxy's function is disabled.\n     * @param proxy The marketplace proxy's address\n     * @param selector The marketplace proxy's function selector\n     */\n    event FunctionRemoved(address indexed proxy, bytes4 selector);\n\n    /**\n     * @notice Emitted when execute is complete\n     * @param sweeper The address that submitted the transaction\n     */\n    event Sweep(address indexed sweeper);\n\n    error AlreadySet();\n    error FeeTooHigh();\n    error InvalidFunction();\n    error InvalidOrderLength();\n    error TradeExecutionFailed();\n    error UseERC20EnabledLooksRareAggregator();\n    error ZeroAddress();\n}"
    }
  ]
}