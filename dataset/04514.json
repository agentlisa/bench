{
  "Title": "Notes & Additional Information:",
  "Content": "* `Controller.sol`, `MintController.sol` and `MasterMinter.sol` are using an outdated Solidity release: `v0.4.24`. Consider using the latest version of the Solidity compiler ([`v0.5.2`](https://solidity.readthedocs.io/en/v0.5.2/) at the time of writing) throughout the code. [`removeController`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L66) does not check if the controller is set before removal, allowing for subsequent calls to the function, which will confusingly emit repeated `ControllerRemoved` events with the same address. Consider whether this check should be included in order to avoid this behavior.  \n\n***Update:*** *a* [*check*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/Controller.sol#L104) *was added to prevent this behavior.*\n* `Controller` explicitly defines an [empty constructor](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L47), which, according to [the Solidity docs](https://solidity.readthedocs.io/en/v0.4.24/contracts.html#constructors), is exactly what the contract would assume if this piece of code was absent. Consider removing the empty constructor for clarity.  \n\n***Update:*** *the empty constructor was removed.*\n* Several functions ([`configureController`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L56) and [`removeController`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L66) in `Controller`, and [`setMinterManager`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L60) in `MintController`) return hardcoded boolean values. Consider documenting this if it arises from the need of conforming to an interface.  \n\n***Update:*** *these functions no longer return a boolean.*\n* Several functions in the code ([`configureController`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L56) and [`removeController`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L66) in `Controller`, and [`setMinterManager`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L60), [`removeMinter`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L71), [`configureMinter`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L80), and [`incrementMinterAllowance`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L92) in `MintController.sol`) are marked as `public`, but are never called from within the contract hierarchy. Consider making these functions `external` if they are only to be called from other contracts.\n* Consider moving [`MinterManagementInterface`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L29) to an individual file and importing it from `MinterController.sol`, thus allowing it to be cleanly imported from other files in the project.  \n\n***Update:*** *the interface now lives in its own* [`MinterManagementInterface.sol`](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/MinterManagementInterface.sol) *file.*\n* Consider restricting the visibility of the [`controllers`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L34) and [`minterManager`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L44) variables to `internal` or `private` and providing the required getter functions as a good encapsulation practice.  \n\n***Update:*** [*these*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/Controller.sol#L38) [*variables*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/MintController.sol#L48) *are now* `internal`*, and the* [*corresponding*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/Controller.sol#L59) [*getters*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/MintController.sol#L88) *are in place.*\n* In line [61](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L61) of `MintController`, the [`minterManager`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L44) variable is implicitly converted to the `address` type. Starting from Solidity version `v0.5.0`, implicit address conversions [issue an error](https://solidity.readthedocs.io/en/v0.5.2/types.html#address). Consider explicitly casting `minterManager` to the `address` type in case the decision is later made to use a newer version of Solidity.  \n\n***Update:*** *the casting is now done* [*explicitly*](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/MintController.sol#L109)*.*\n* Repeatedly in the code (`Controller.sol` lines [56](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L56), [66](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/Controller.sol#L66); `MintController.sol` lines [60](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L60), [71](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L71), [80](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L80), [92](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L92)), the `public` keyword appears after the custom modifiers. According to the [Solidity docs on Function declaration](https://solidity.readthedocs.io/en/v0.4.24/style-guide.html#function-declaration), however, *“The visibility modifier for a function should come before other modifiers”.****Update:*** *the ordering of the modifiers now conforms to the suggested one.*\n* The line wrapping is inconsistent in the codebase. Comments appear to be wrapped at around 86 characters but some parts of the code extend beyond that limit (e.g. line [49](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L49) of `MintController.sol`, which goes to 128). Consider adhering to a single limit and applying it throughout. The recommended width is 80 columns.  \n\n***Update:*** *line wrapping is now consistent throughout.*\n* There is an inconsistency in function parameter naming. In `Controller` they all start with an underscore, while in `MintController` only those of `constructor` and `setMinterManager` do. Consider using underscores in all parameter names.  \n\n***Update:*** *all parameter names now start with underscores, except only for those of the new* [`MinterAllowanceDecremented`](https://github.com/centrehq/centre-tokens/blob/fbb6cfeb503ece6719cd456f82e6ef1602145db3/contracts/minting/MintController.sol#L70) *event. Apart from this, there is an extra blank line between the declaration of this new event and the preceding ones.*\n* All `import` statements use single quotes, double quotes are recommended in the [Solidity Style Guide](https://solidity.readthedocs.io/en/v0.4.24/style-guide.html?highlight=import#other-recommendations).  \n\n***Update:*** `import` *statements now use double quotes.*\n* There is a double space in line [52](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L52) of `MintController.sol`.  \n\n***Update:*** *the double space was removed.*\n* Functions [`incrementMinterAllowance`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L92) and [`internal_setMinterAllowance`](https://github.com/centrehq/centre-tokens/blob/4b9ebf3941a48e41e7363fee729035610a71ca66/contracts/minting/MintController.sol#L108) in `MintController` are not correctly indented.  \n\n***Update:*** *these indentation issues were resolved.*\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './../Ownable.sol';\n\n/**\n * @title Controller\n * @dev Generic implementation of the owner-controller-worker model.\n *\n */\ncontract Controller is Ownable {\n    // controllers[controller] = worker\n    // The controller manages a single worker address.\n    mapping(address => address) public controllers;\n\n    event ControllerConfigured(address indexed _controller, address indexed _worker);\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @dev ensure that the caller is the controller of a non-zero worker address\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0));\n        _;\n    }\n\n    constructor() public {\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev set the controller of a particular _worker\n     * Argument _worker must not be 0x00, call removeController(_controller) instead.\n     */\n    function configureController(address _controller, address _worker) onlyOwner public returns (bool) {\n        require(_worker != address(0));\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n        return true;\n    }\n\n    /**\n     * @dev disables a controller by setting its worker to address(0);\n     */\n    function removeController(address _controller) onlyOwner public returns (bool) {\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n        return true;\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport \"../Ownable.sol\";\n\n/**\n * @title Controller\n * @notice Generic implementation of the owner-controller-worker model.\n * One owner manages many controllers. Each controller manages one worker.\n * Workers may be reused across different controllers.\n */\ncontract Controller is Ownable {\n    /**\n     * @notice A controller manages a single worker address.\n     * controllers[controller] = worker\n     */\n    mapping(address => address) internal controllers;\n\n    event ControllerConfigured(\n        address indexed _controller,\n        address indexed _worker\n    );\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @notice Ensures that caller is the controller of a non-zero worker \n     * address.\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0), \n            \"The value of controllers[msg.sender] must be non-zero\");\n        _;\n    }\n\n    /**\n     * @notice Gets the worker at address _controller.\n     */\n    function getWorker(\n        address _controller\n    )\n        external\n        view\n        returns (address)\n    {\n        return controllers[_controller];\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @notice Configure a controller with the given worker.\n     * @param _controller The controller to be configured with a worker.\n     * @param _worker The worker to be set for the newly configured controller.\n     * _worker must not be a non-zero address. To disable a worker,\n     * use removeController instead.\n     */\n    function configureController(\n        address _controller,\n        address _worker\n    )\n        public \n        onlyOwner \n    {\n        require(_controller != address(0), \n            \"Controller must be a non-zero address\");\n        require(_worker != address(0), \"Worker must be a non-zero address\");\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n    }\n\n    /**\n     * @notice disables a controller by setting its worker to address(0).\n     * @param _controller The controller to disable.\n     */\n    function removeController(\n        address _controller\n    )\n        public \n        onlyOwner \n    {\n        require(_controller != address(0), \n            \"Controller must be a non-zero address\");\n        require(controllers[_controller] != address(0), \n            \"Worker must be a non-zero address\");\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './../Ownable.sol';\n\n/**\n * @title Controller\n * @dev Generic implementation of the owner-controller-worker model.\n *\n */\ncontract Controller is Ownable {\n    // controllers[controller] = worker\n    // The controller manages a single worker address.\n    mapping(address => address) public controllers;\n\n    event ControllerConfigured(address indexed _controller, address indexed _worker);\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @dev ensure that the caller is the controller of a non-zero worker address\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0));\n        _;\n    }\n\n    constructor() public {\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev set the controller of a particular _worker\n     * Argument _worker must not be 0x00, call removeController(_controller) instead.\n     */\n    function configureController(address _controller, address _worker) onlyOwner public returns (bool) {\n        require(_worker != address(0));\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n        return true;\n    }\n\n    /**\n     * @dev disables a controller by setting its worker to address(0);\n     */\n    function removeController(address _controller) onlyOwner public returns (bool) {\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n        return true;\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './../Ownable.sol';\n\n/**\n * @title Controller\n * @dev Generic implementation of the owner-controller-worker model.\n *\n */\ncontract Controller is Ownable {\n    // controllers[controller] = worker\n    // The controller manages a single worker address.\n    mapping(address => address) public controllers;\n\n    event ControllerConfigured(address indexed _controller, address indexed _worker);\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @dev ensure that the caller is the controller of a non-zero worker address\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0));\n        _;\n    }\n\n    constructor() public {\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev set the controller of a particular _worker\n     * Argument _worker must not be 0x00, call removeController(_controller) instead.\n     */\n    function configureController(address _controller, address _worker) onlyOwner public returns (bool) {\n        require(_worker != address(0));\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n        return true;\n    }\n\n    /**\n     * @dev disables a controller by setting its worker to address(0);\n     */\n    function removeController(address _controller) onlyOwner public returns (bool) {\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n        return true;\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './../Ownable.sol';\n\n/**\n * @title Controller\n * @dev Generic implementation of the owner-controller-worker model.\n *\n */\ncontract Controller is Ownable {\n    // controllers[controller] = worker\n    // The controller manages a single worker address.\n    mapping(address => address) public controllers;\n\n    event ControllerConfigured(address indexed _controller, address indexed _worker);\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @dev ensure that the caller is the controller of a non-zero worker address\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0));\n        _;\n    }\n\n    constructor() public {\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev set the controller of a particular _worker\n     * Argument _worker must not be 0x00, call removeController(_controller) instead.\n     */\n    function configureController(address _controller, address _worker) onlyOwner public returns (bool) {\n        require(_worker != address(0));\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n        return true;\n    }\n\n    /**\n     * @dev disables a controller by setting its worker to address(0);\n     */\n    function removeController(address _controller) onlyOwner public returns (bool) {\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n        return true;\n    }\n}"
    },
    {
      "filename": "contracts/minting/MintController.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './Controller.sol';\nimport 'openzeppelin-solidity/contracts/math/SafeMath.sol';\n\n// Using an interface for managing minters so that MintController\n// can be used for managing minters with different contracts.\ninterface MinterManagementInterface {\n    function isMinter(address account) external view returns (bool);\n    function minterAllowance(address minter) external view returns (uint256);\n    function configureMinter(address minter, uint256 minterAllowedAmount) external returns (bool);\n    function removeMinter(address minter) external returns (bool);\n}\n\n/**\n * @title MintController\n * @dev allows control of configure/remove minter by different addresses\n *\n */\ncontract MintController is Controller {\n    using SafeMath for uint256;\n\n    MinterManagementInterface public minterManager;\n\n    event MinterManagerSet(address indexed oldMinterManager, address indexed newMinterManager);\n    event MinterConfigured(address indexed msgSender, address indexed minter, uint256 allowance);\n    event MinterRemoved(address indexed msgSender, address indexed minter);\n    event MinterAllowanceIncrement(address indexed msgSender, address indexed minter, uint256 increment, uint256 newAllowance);\n\n    constructor(address _minterManager) public {\n        minterManager =  MinterManagementInterface(_minterManager);\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev sets the minterManager\n     */\n    function setMinterManager(address _newMinterManager) onlyOwner public returns (bool) {\n        emit MinterManagerSet(minterManager, _newMinterManager);\n        minterManager = MinterManagementInterface(_newMinterManager);\n        return true;\n    }\n\n    // onlyController functions\n\n    /**\n     * @dev remove the controller's minter.\n     */\n    function removeMinter() onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        emit MinterRemoved(msg.sender, minter);\n        return minterManager.removeMinter(minter);\n    }\n\n    /**\n     * @dev Enables the minter and sets its allowance\n     */\n    function configureMinter(uint256 newAllowance) onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        emit MinterConfigured(msg.sender, minter, newAllowance);\n        return internal_setMinterAllowance(minter, newAllowance);\n    }\n\n     /**\n     * @dev Increases the minter allowance if and only if the minter is\n     * currently active. The controller can safely send a signed incrementMinterAllowance()\n     * transaction to a minter and not worry about it being used to undo a removeMinter()\n     * transaction.\n     */\n     function incrementMinterAllowance(uint256 allowanceIncrement) onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        require(minterManager.isMinter(minter));\n\n        uint256 currentAllowance = minterManager.minterAllowance(minter);\n        uint256 newAllowance = currentAllowance.add(allowanceIncrement);\n\n        emit MinterAllowanceIncrement(msg.sender, minter, allowanceIncrement, newAllowance);\n        return internal_setMinterAllowance(minter, newAllowance);\n    }\n\n   // Internal functions\n\n    /**\n     * @dev Uses the MinterManagementInterface to enable the minter and set its allowance.\n     */\n   function internal_setMinterAllowance(address minter, uint256 newAllowance) internal returns (bool) {\n        return minterManager.configureMinter(minter, newAllowance);\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './../Ownable.sol';\n\n/**\n * @title Controller\n * @dev Generic implementation of the owner-controller-worker model.\n *\n */\ncontract Controller is Ownable {\n    // controllers[controller] = worker\n    // The controller manages a single worker address.\n    mapping(address => address) public controllers;\n\n    event ControllerConfigured(address indexed _controller, address indexed _worker);\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @dev ensure that the caller is the controller of a non-zero worker address\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0));\n        _;\n    }\n\n    constructor() public {\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev set the controller of a particular _worker\n     * Argument _worker must not be 0x00, call removeController(_controller) instead.\n     */\n    function configureController(address _controller, address _worker) onlyOwner public returns (bool) {\n        require(_worker != address(0));\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n        return true;\n    }\n\n    /**\n     * @dev disables a controller by setting its worker to address(0);\n     */\n    function removeController(address _controller) onlyOwner public returns (bool) {\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n        return true;\n    }\n}"
    },
    {
      "filename": "contracts/minting/Controller.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport \"../Ownable.sol\";\n\n/**\n * @title Controller\n * @notice Generic implementation of the owner-controller-worker model.\n * One owner manages many controllers. Each controller manages one worker.\n * Workers may be reused across different controllers.\n */\ncontract Controller is Ownable {\n    /**\n     * @notice A controller manages a single worker address.\n     * controllers[controller] = worker\n     */\n    mapping(address => address) internal controllers;\n\n    event ControllerConfigured(\n        address indexed _controller,\n        address indexed _worker\n    );\n    event ControllerRemoved(address indexed _controller);\n\n    /**\n     * @notice Ensures that caller is the controller of a non-zero worker \n     * address.\n     */\n    modifier onlyController() {\n        require(controllers[msg.sender] != address(0), \n            \"The value of controllers[msg.sender] must be non-zero\");\n        _;\n    }\n\n    /**\n     * @notice Gets the worker at address _controller.\n     */\n    function getWorker(\n        address _controller\n    )\n        external\n        view\n        returns (address)\n    {\n        return controllers[_controller];\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @notice Configure a controller with the given worker.\n     * @param _controller The controller to be configured with a worker.\n     * @param _worker The worker to be set for the newly configured controller.\n     * _worker must not be a non-zero address. To disable a worker,\n     * use removeController instead.\n     */\n    function configureController(\n        address _controller,\n        address _worker\n    )\n        public \n        onlyOwner \n    {\n        require(_controller != address(0), \n            \"Controller must be a non-zero address\");\n        require(_worker != address(0), \"Worker must be a non-zero address\");\n        controllers[_controller] = _worker;\n        emit ControllerConfigured(_controller, _worker);\n    }\n\n    /**\n     * @notice disables a controller by setting its worker to address(0).\n     * @param _controller The controller to disable.\n     */\n    function removeController(\n        address _controller\n    )\n        public \n        onlyOwner \n    {\n        require(_controller != address(0), \n            \"Controller must be a non-zero address\");\n        require(controllers[_controller] != address(0), \n            \"Worker must be a non-zero address\");\n        controllers[_controller] = address(0);\n        emit ControllerRemoved(_controller);\n    }\n}"
    },
    {
      "filename": "contracts/minting/MintController.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is furnished to\n* do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport './Controller.sol';\nimport 'openzeppelin-solidity/contracts/math/SafeMath.sol';\n\n// Using an interface for managing minters so that MintController\n// can be used for managing minters with different contracts.\ninterface MinterManagementInterface {\n    function isMinter(address account) external view returns (bool);\n    function minterAllowance(address minter) external view returns (uint256);\n    function configureMinter(address minter, uint256 minterAllowedAmount) external returns (bool);\n    function removeMinter(address minter) external returns (bool);\n}\n\n/**\n * @title MintController\n * @dev allows control of configure/remove minter by different addresses\n *\n */\ncontract MintController is Controller {\n    using SafeMath for uint256;\n\n    MinterManagementInterface public minterManager;\n\n    event MinterManagerSet(address indexed oldMinterManager, address indexed newMinterManager);\n    event MinterConfigured(address indexed msgSender, address indexed minter, uint256 allowance);\n    event MinterRemoved(address indexed msgSender, address indexed minter);\n    event MinterAllowanceIncrement(address indexed msgSender, address indexed minter, uint256 increment, uint256 newAllowance);\n\n    constructor(address _minterManager) public {\n        minterManager =  MinterManagementInterface(_minterManager);\n    }\n\n    // onlyOwner functions\n\n    /**\n     * @dev sets the minterManager\n     */\n    function setMinterManager(address _newMinterManager) onlyOwner public returns (bool) {\n        emit MinterManagerSet(minterManager, _newMinterManager);\n        minterManager = MinterManagementInterface(_newMinterManager);\n        return true;\n    }\n\n    // onlyController functions\n\n    /**\n     * @dev remove the controller's minter.\n     */\n    function removeMinter() onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        emit MinterRemoved(msg.sender, minter);\n        return minterManager.removeMinter(minter);\n    }\n\n    /**\n     * @dev Enables the minter and sets its allowance\n     */\n    function configureMinter(uint256 newAllowance) onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        emit MinterConfigured(msg.sender, minter, newAllowance);\n        return internal_setMinterAllowance(minter, newAllowance);\n    }\n\n     /**\n     * @dev Increases the minter allowance if and only if the minter is\n     * currently active. The controller can safely send a signed incrementMinterAllowance()\n     * transaction to a minter and not worry about it being used to undo a removeMinter()\n     * transaction.\n     */\n     function incrementMinterAllowance(uint256 allowanceIncrement) onlyController public returns (bool) {\n        address minter = controllers[msg.sender];\n        require(minterManager.isMinter(minter));\n\n        uint256 currentAllowance = minterManager.minterAllowance(minter);\n        uint256 newAllowance = currentAllowance.add(allowanceIncrement);\n\n        emit MinterAllowanceIncrement(msg.sender, minter, allowanceIncrement, newAllowance);\n        return internal_setMinterAllowance(minter, newAllowance);\n    }\n\n   // Internal functions\n\n    /**\n     * @dev Uses the MinterManagementInterface to enable the minter and set its allowance.\n     */\n   function internal_setMinterAllowance(address minter, uint256 newAllowance) internal returns (bool) {\n        return minterManager.configureMinter(minter, newAllowance);\n    }\n}"
    },
    {
      "filename": "contracts/minting/MintController.sol",
      "content": "/**\n* Copyright CENTRE SECZ 2018\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*/\n\npragma solidity ^0.4.24;\n\nimport \"./Controller.sol\";\nimport \"./MinterManagementInterface.sol\";\nimport \"openzeppelin-solidity/contracts/math/SafeMath.sol\";\n\n/**\n * @title MintController\n * @notice The MintController contract manages minters for a contract that \n * implements the MinterManagerInterface. It lets the owner designate certain \n * addresses as controllers, and these controllers then manage the \n * minters by adding and removing minters, as well as modifying their minting \n * allowance. A controller may manage exactly one minter, but the same minter \n * address may be managed by multiple controllers.\n * @dev MintController inherits from the Controller contract. It treats the \n * Controller workers as minters.\n */\ncontract MintController is Controller {\n    using SafeMath for uint256;\n\n    /**\n    * @title MinterManagementInterface\n    * @notice MintController calls the minterManager to execute/record minter \n    * management tasks, as well as to query the status of a minter address.\n    */\n    MinterManagementInterface internal minterManager;\n\n    event MinterManagerSet(\n        address indexed _oldMinterManager,\n        address indexed _newMinterManager\n    );\n    event MinterConfigured(\n        address indexed _msgSender,\n        address indexed _minter,\n        uint256 _allowance\n    );\n    event MinterRemoved(\n        address indexed _msgSender,\n        address indexed _minter\n    );\n    event MinterAllowanceIncremented(\n        address indexed _msgSender,\n        address indexed _minter,\n        uint256 _increment,\n        uint256 _newAllowance\n    );\n\n    event MinterAllowanceDecremented(\n        address indexed msgSender,\n        address indexed minter,\n        uint256 decrement,\n        uint256 newAllowance\n    );\n\n    /**\n     * @notice Initializes the minterManager.\n     * @param _minterManager The address of the minterManager contract.\n     */\n    constructor(address _minterManager) public {\n        minterManager = MinterManagementInterface(_minterManager);\n    }\n\n    /**\n     * @notice gets the minterManager\n     */\n    function getMi"
    }
  ]
}