{
  "Title": "[L18] Using unstable version of OpenZeppelin Contracts may break functionality",
  "Content": "The OpenZeppelin Contracts library [is imported as `\"@openzeppelin/contracts\": \"^3.0.0-beta.0\"`](https://github.com/UMAprotocol/protocol/blob/9d403ddb5f2f07194daefe7da51e0e0a6306f2c4/package.json#L35). This is an unstable, pre-production version of the library, which may include unexpected breaking changes between releases until it is stabilized. For example, since the dependency is not pinned, the latest `3.0.0-rc.0` version is now installed instead of the `3.0.0-beta.0` version. This first release candidate includes breaking changes from the previous beta version, such as contracts moved to other folders (e.g., [`Ownable`](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/2120), or [`ERC20Snapshot`](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/2122)), or functions changing names and visibility. Some of these changes have broken imports in the UMA project and contracts now fail to compile correctly. Furthermore, the [previously public `snapshot` function](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.0.0-beta.0/contracts/drafts/ERC20Snapshot.sol#L46) of the `ERC20Snapshot` contract has been [restricted to `internal`, and its name has changed to `_snapshot`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v3.0.0-rc.0/contracts/token/ERC20/ERC20Snapshot.sol#L48).\n\n\nInitially, consider pinning the imported dependency to a fixed version to avoid installing undesired versions that may break functionality. More importantly, before moving into production, consider waiting for the final stable release of OpenZeppelin Contracts 3.0.\n\n\n**Update**: *Fixed in [PR#1254](https://github.com/UMAprotocol/protocol/pull/1254) and [PR#1280](https://github.com/UMAprotocol/protocol/pull/1280). The project is now using [OpenZeppelin Contracts v3.0.0](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/v3.0.0)*.\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "package.json",
      "content": "{\n  \"name\": \"protocol\",\n  \"version\": \"0.1.0\",\n  \"description\": \"UMA Protocol Smart Contracts\",\n  \"scripts\": {\n    \"lint\": \"npm run eslint && npm run prettier\",\n    \"lint_check\": \"npm run eslint_check && npm run prettier_check\",\n    \"eslint\": \"npm run eslint_vanilla -- --fix\",\n    \"eslint_check\": \"npm run eslint_vanilla\",\n    \"eslint_vanilla\": \"eslint 'core/**/*.js'\",\n    \"prettier\": \"npm run prettier_vanilla -- --write\",\n    \"prettier_check\": \"npm run prettier_vanilla -- --check\",\n    \"prettier_vanilla\": \"prettier --bracket-spacing 'core/**/*.js' 'common/**/*.js' '*.js' 'voter-dapp/src/**/*.js' 'sponsor-dapp-v2/src/**/*.js' 'core/contracts/**/*.sol' 'financial-templates-lib/*.js'\"\n  },\n  \"author\": \"UMA Team\",\n  \"license\": \"AGPL-3.0\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/UMAprotocol/protocol.git\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"5.16.0\",\n    \"husky\": \"^4.2.3\",\n    \"prettier\": \"1.19.1\",\n    \"prettier-plugin-solidity\": \"^1.0.0-alpha.42\",\n    \"solidity-coverage\": \"^0.7.2\",\n    \"truffle-deploy-registry\": \"^0.5.1\"\n  },\n  \"dependencies\": {\n    \"@antora/cli\": \"^2.1.2\",\n    \"@antora/site-generator-default\": \"^2.1.2\",\n    \"@awaitjs/express\": \"^0.3.0\",\n    \"@google-cloud/kms\": \"^0.3.0\",\n    \"@google-cloud/storage\": \"^2.4.2\",\n    \"@openzeppelin/contracts\": \"^3.0.0-beta.0\",\n    \"@sendgrid/mail\": \"^6.4.0\",\n    \"@truffle/contract\": \"^4.1.0\",\n    \"@truffle/hdwallet-provider\": \"^1.0.25\",\n    \"@umaprotocol/truffle-ledger-provider\": \"^1.0.3\",\n    \"abi-decoder\": \"github:UMAprotocol/abi-decoder\",\n    \"bignumber.js\": \"^8.0.1\",\n    \"chalk-pipe\": \"^3.0.0\",\n    \"dotenv\": \"^6.2.0\",\n    \"eth-crypto\": \"^1.3.4\",\n    \"express\": \"^4.17.1\",\n    \"ganache-cli\": \"^6.7.0\",\n    \"gmail-send\": \"^1.2.14\",\n    \"inquirer\": \"^7.0.4\",\n    \"lodash.startcase\": \"^4.4.0\",\n    \"minimist\": \"^1.2.0\",\n    \"moment\": \"^2.24.0\",\n    \"node-fetch\": \"^2.3.0\",\n    \"node-metamask\": \"github:UMAprotocol/node-metamask\",\n    \"ora\": \"^4.0.3\",\n    \"require-context\": \"^1.1.0\",\n    \"secp256k1\": \"^3.7.1\",\n    \"truffle\": \"^5.1.14\",\n    \"truffle-assertions\": \"^0.9.2\",\n    \"web3\": \"^1.2.4\",\n    \"web3-core-promievent\": \"^1.2.4\",\n    \"web3-eth-abi\": \"^1.2.4\",\n    \"web3-utils\": \"^1.2.4\"\n  },\n  \"optionalDependencies\": {\n    \"solidity-docgen\": \"github:UMAprotocol/solidity-docgen#fork-no-inheritance\"\n  },\n  \"bin\": {\n    \"uma\": \"./core/scripts/cli/cli_entry.sh\"\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"pre-push\": \"npm run lint_check\"\n    }\n  }\n}"
    }
  ]
}