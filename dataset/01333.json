{
  "Title": "Unused events in `WhitelistFacet` can be removed",
  "Content": "The [`WhitelistToken`](https://github.com/BeanstalkFarms/Beanstalk/blob/c7a20e56a0a6659c09314a877b440198eff0cd81/protocol/contracts/beanstalk/silo/WhitelistFacet.sol#L20-L32), [`UpdatedStalkPerBdvPerSeason`](https://github.com/BeanstalkFarms/Beanstalk/blob/c7a20e56a0a6659c09314a877b440198eff0cd81/protocol/contracts/beanstalk/silo/WhitelistFacet.sol#L34-L44), and [`DewhitelistToken`](https://github.com/BeanstalkFarms/Beanstalk/blob/c7a20e56a0a6659c09314a877b440198eff0cd81/protocol/contracts/beanstalk/silo/WhitelistFacet.sol#L46-L50) events in `WhitelistFacet` are not currently used. Moreover, the [same events](https://github.com/BeanstalkFarms/Beanstalk/blob/c7a20e56a0a6659c09314a877b440198eff0cd81/protocol/contracts/libraries/Silo/LibWhitelist.sol#L19-L55) are already declared in `LibWhitelist` where they are used.",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "protocol/contracts/beanstalk/silo/WhitelistFacet.sol",
      "content": "/**\n * SPDX-License-Identifier: MIT\n **/\n\npragma solidity ^0.7.6;\npragma experimental ABIEncoderV2;\n\nimport {LibDiamond} from \"contracts/libraries/LibDiamond.sol\";\nimport {LibWhitelist} from \"contracts/libraries/Silo/LibWhitelist.sol\";\nimport {AppStorage} from \"../AppStorage.sol\";\n\n/**\n * @author Publius\n * @title Whitelist Facet \n * @notice Manages the Silo Whitelist including Adding to, Updating \n * and Removing from the Silo Whitelist\n **/\ncontract WhitelistFacet {\n\n    /**\n     * @notice Emitted when a token is Whitelisted into the Silo.\n     * @param token Address of the token that was Whitelisted.\n     * @param selector The function selector that is used to calculate the BDV of the token.\n     * @param stalkEarnedPerSeason The amount of Stalk earned per Season for each Deposited BDV.\n     * @param stalkIssuedPerBdv The amount of Stalk issued per BDV on Deposit.\n     */\n    event WhitelistToken(\n        address indexed token,\n        bytes4 selector,\n        uint32 stalkEarnedPerSeason,\n        uint256 stalkIssuedPerBdv\n    );\n\n    /**\n     * @notice Emitted whenever the `stalkEarnedPerSeason` changes for a token.\n     * @param token Address of the token that the `stalkEarnedPerSeason` is updated for.\n     * @param stalkEarnedPerSeason The new amount of Stalk earned per Season for each Deposited BDV.\n     * @param season The Season that the new `stalkEarnedPerSeason` comes into effect. \n     */\n    event UpdatedStalkPerBdvPerSeason(\n        address indexed token,\n        uint32 stalkEarnedPerSeason,\n        uint32 season\n    );\n\n    /**\n     * @notice Emitted when a token is removed from the Silo Whitelist.\n     * @param token Address of the token that was removed from the Silo Whitelist.\n     */\n    event DewhitelistToken(address indexed token);\n\n    /**\n     * @notice Removes a token from the Silo Whitelist.\n     * @dev Can only be called by Beanstalk or Beanstalk owner.\n     */\n    function dewhitelistToken(address token) external payable {\n        LibDiamond.enforceIsOwnerOrContract();\n        LibWhitelist.dewhitelistToken(token);\n    }\n\n    /**\n     * @notice Adds a token to the Silo Whitelist.\n     * @param token Address of the token that is being Whitelisted.\n     * @param selector The function selector that is used to calculate the BDV of the token.\n     * @param stalkIssuedPerBdv The amount of Stalk issued per BDV on Deposit.\n     * @param stalkEarnedPerSeason The amount of Stalk earned per Season for each Deposited BDV.\n     * @dev \n     * Can only be called by Beanstalk or Beanstalk owner.\n     * Assumes an `encodeType` of 0.\n     */\n    function whitelistToken(\n        address token,\n        bytes4 selector,\n        uint32 stalkIssuedPerBdv,\n        uint32 stalkEarnedPerSeason\n    ) external payable {\n        LibDiamond.enforceIsOwnerOrContract();\n        LibWhitelist.whitelistToken(\n            token,\n            selector,\n            stalkIssuedPerBdv,\n            stalkEarnedPerSeason,\n            0x00\n        );\n    }\n\n    /**\n     * @notice Adds a token to the Silo Whitelist with an `encodeType`\n     * @param token Address of the token that is being Whitelisted.\n     * @param selector The function selector that is used to calculate the BDV of the token.\n     * @param stalkIssuedPerBdv The amount of Stalk issued per BDV on Deposit.\n     * @param stalkEarnedPerSeason The amount of Stalk earned per Season for each Deposited BDV.\n     * @param encodeType The encode type that should be used to encode the BDV function call. See {LibTokenSilo.beanDenominatedValue}.\n     * @dev Can only be called by Beanstalk or Beanstalk owner.\n     */\n    function whitelistTokenWithEncodeType(\n        address token,\n        bytes4 selector,\n        uint32 stalkIssuedPerBdv,\n        uint32 stalkEarnedPerSeason,\n        bytes1 encodeType\n    ) external payable {\n        LibDiamond.enforceIsOwnerOrContract();\n        LibWhitelist.whitelistToken(\n            token,\n            selector,\n            stalkIssuedPerBdv,\n            stalkEarnedPerSeason,\n            encodeType\n        );\n    }\n\n    /**\n     * @notice Updates the Stalk Per BDV Per Season for a given Token\n     * @param token Address of the token that is being Whitelisted.\n     * @param stalkEarnedPerSeason The new amount of Stalk earned per Season for each Deposited BDV.\n     * @dev Can only be called by Beanstalk or Beanstalk owner.\n     */\n    function updateStalkPerBdvPerSeasonForToken(\n        address token,\n        uint32 stalkEarnedPerSeason\n    ) external payable {\n        LibDiamond.enforceIsOwnerOrContract();\n        LibWhitelist.updateStalkPerBdvPerSeasonForToken(\n            token,\n            stalkEarnedPerSeason\n        );\n    }\n}"
    }
  ]
}