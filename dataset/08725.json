{
  "Title": "[N-02] Adding a return statement when the function defines a named return variable, is redundant",
  "Content": " \nThere are 4 instances of this issue:\n\n```solidity\nFile: contracts/libraries/CurveHelpers/CurveHelpers.sol   #1\n\n25:                   return amounts;\n```\nhttps://github.com/code-423n4/2022-06-nested/blob/b4a153c943d54755711a2f7b80cbbf3a5bb49d76/contracts/libraries/CurveHelpers/CurveHelpers.sol#L25\n\n```solidity\nFile: contracts/libraries/CurveHelpers/CurveHelpers.sol   #2\n\n45:                   return amounts;\n```\nhttps://github.com/code-423n4/2022-06-nested/blob/b4a153c943d54755711a2f7b80cbbf3a5bb49d76/contracts/libraries/CurveHelpers/CurveHelpers.sol#L45\n\n```solidity\nFile: contracts/libraries/CurveHelpers/CurveHelpers.sol   #3\n\n65:                   return amounts;\n```\nhttps://github.com/code-423n4/2022-06-nested/blob/b4a153c943d54755711a2f7b80cbbf3a5bb49d76/contracts/libraries/CurveHelpers/CurveHelpers.sol#L65\n\n```solidity\nFile: contracts/libraries/CurveHelpers/CurveHelpers.sol   #4\n\n89:                   return success;\n```\nhttps://github.com/code-423n4/2022-06-nested/blob/b4a153c943d54755711a2f7b80cbbf3a5bb49d76/contracts/libraries/CurveHelpers/CurveHelpers.sol#L89\n\n",
  "Impact": "LOW",
  "Source": "https://code4rena.com/reports/2022-06-nested",
  "Code": [
    {
      "filename": "contracts/libraries/CurveHelpers/CurveHelpers.sol",
      "content": "// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity 0.8.14;\n\nimport \"./../../interfaces/external/ICurvePool/ICurvePool.sol\";\nimport \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n\n/// @notice Library for Curve deposit/withdraw\nlibrary CurveHelpers {\n    using SafeERC20 for IERC20;\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 2pool to add liquidity\n    /// @param pool The curve 2pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 2 token amounts sorted by Curve pool token indexes\n    function getAmounts2Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[2] memory amounts) {\n        for (uint256 i; i < 2; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 3pool to add liquidity\n    /// @param pool The curve 3pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 3 token amounts sorted by Curve pool token indexes\n    function getAmounts3Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[3] memory amounts) {\n        for (uint256 i; i < 3; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 4pool to add liquidity\n    /// @param pool The curve 4pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 4 token amounts sorted by Curve pool token indexes\n    function getAmounts4Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[4] memory amounts) {\n        for (uint256 i; i < 4; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Remove liquidity from a Curve pool\n    /// @param pool The Curve pool to remove liquidity from\n    /// @param amount The Curve pool LP token to withdraw\n    /// @param outputToken One of the Curve pool token\n    /// @param poolCoinAmount The amount of token in the Curve pool\n    /// @param signature The signature of the remove_liquidity_one_coin\n    ///                  function to be used to call to the Curve pool\n    /// @return success If the call to remove liquidity succeeded\n    function removeLiquidityOneCoin(\n        ICurvePool pool,\n        uint256 amount,\n        address outputToken,\n        uint256 poolCoinAmount,\n        bytes4 signature\n    ) internal returns (bool success) {\n        for (uint256 i; i < poolCoinAmount; i++) {\n            if (outputToken == pool.coins(i)) {\n                (success, ) = address(pool).call(abi.encodeWithSelector(signature, amount, i, 0));\n                return success;\n            }\n        }\n        revert(\"CH: INVALID_OUTPUT_TOKEN\");\n    }\n}"
    },
    {
      "filename": "contracts/libraries/CurveHelpers/CurveHelpers.sol",
      "content": "// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity 0.8.14;\n\nimport \"./../../interfaces/external/ICurvePool/ICurvePool.sol\";\nimport \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n\n/// @notice Library for Curve deposit/withdraw\nlibrary CurveHelpers {\n    using SafeERC20 for IERC20;\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 2pool to add liquidity\n    /// @param pool The curve 2pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 2 token amounts sorted by Curve pool token indexes\n    function getAmounts2Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[2] memory amounts) {\n        for (uint256 i; i < 2; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 3pool to add liquidity\n    /// @param pool The curve 3pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 3 token amounts sorted by Curve pool token indexes\n    function getAmounts3Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[3] memory amounts) {\n        for (uint256 i; i < 3; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 4pool to add liquidity\n    /// @param pool The curve 4pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 4 token amounts sorted by Curve pool token indexes\n    function getAmounts4Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[4] memory amounts) {\n        for (uint256 i; i < 4; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Remove liquidity from a Curve pool\n    /// @param pool The Curve pool to remove liquidity from\n    /// @param amount The Curve pool LP token to withdraw\n    /// @param outputToken One of the Curve pool token\n    /// @param poolCoinAmount The amount of token in the Curve pool\n    /// @param signature The signature of the remove_liquidity_one_coin\n    ///                  function to be used to call to the Curve pool\n    /// @return success If the call to remove liquidity succeeded\n    function removeLiquidityOneCoin(\n        ICurvePool pool,\n        uint256 amount,\n        address outputToken,\n        uint256 poolCoinAmount,\n        bytes4 signature\n    ) internal returns (bool success) {\n        for (uint256 i; i < poolCoinAmount; i++) {\n            if (outputToken == pool.coins(i)) {\n                (success, ) = address(pool).call(abi.encodeWithSelector(signature, amount, i, 0));\n                return success;\n            }\n        }\n        revert(\"CH: INVALID_OUTPUT_TOKEN\");\n    }\n}"
    },
    {
      "filename": "contracts/libraries/CurveHelpers/CurveHelpers.sol",
      "content": "// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity 0.8.14;\n\nimport \"./../../interfaces/external/ICurvePool/ICurvePool.sol\";\nimport \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n\n/// @notice Library for Curve deposit/withdraw\nlibrary CurveHelpers {\n    using SafeERC20 for IERC20;\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 2pool to add liquidity\n    /// @param pool The curve 2pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 2 token amounts sorted by Curve pool token indexes\n    function getAmounts2Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[2] memory amounts) {\n        for (uint256 i; i < 2; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 3pool to add liquidity\n    /// @param pool The curve 3pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 3 token amounts sorted by Curve pool token indexes\n    function getAmounts3Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[3] memory amounts) {\n        for (uint256 i; i < 3; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 4pool to add liquidity\n    /// @param pool The curve 4pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 4 token amounts sorted by Curve pool token indexes\n    function getAmounts4Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[4] memory amounts) {\n        for (uint256 i; i < 4; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Remove liquidity from a Curve pool\n    /// @param pool The Curve pool to remove liquidity from\n    /// @param amount The Curve pool LP token to withdraw\n    /// @param outputToken One of the Curve pool token\n    /// @param poolCoinAmount The amount of token in the Curve pool\n    /// @param signature The signature of the remove_liquidity_one_coin\n    ///                  function to be used to call to the Curve pool\n    /// @return success If the call to remove liquidity succeeded\n    function removeLiquidityOneCoin(\n        ICurvePool pool,\n        uint256 amount,\n        address outputToken,\n        uint256 poolCoinAmount,\n        bytes4 signature\n    ) internal returns (bool success) {\n        for (uint256 i; i < poolCoinAmount; i++) {\n            if (outputToken == pool.coins(i)) {\n                (success, ) = address(pool).call(abi.encodeWithSelector(signature, amount, i, 0));\n                return success;\n            }\n        }\n        revert(\"CH: INVALID_OUTPUT_TOKEN\");\n    }\n}"
    },
    {
      "filename": "contracts/libraries/CurveHelpers/CurveHelpers.sol",
      "content": "// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity 0.8.14;\n\nimport \"./../../interfaces/external/ICurvePool/ICurvePool.sol\";\nimport \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n\n/// @notice Library for Curve deposit/withdraw\nlibrary CurveHelpers {\n    using SafeERC20 for IERC20;\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 2pool to add liquidity\n    /// @param pool The curve 2pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 2 token amounts sorted by Curve pool token indexes\n    function getAmounts2Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[2] memory amounts) {\n        for (uint256 i; i < 2; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 3pool to add liquidity\n    /// @param pool The curve 3pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 3 token amounts sorted by Curve pool token indexes\n    function getAmounts3Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[3] memory amounts) {\n        for (uint256 i; i < 3; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Get the array of token amount to send to a\n    ///      Curve 4pool to add liquidity\n    /// @param pool The curve 4pool\n    /// @param token The token to remove from the pool\n    /// @param amount The amount of token to remove from the pool\n    /// @return amounts Array of 4 token amounts sorted by Curve pool token indexes\n    function getAmounts4Coins(\n        ICurvePool pool,\n        address token,\n        uint256 amount\n    ) internal view returns (uint256[4] memory amounts) {\n        for (uint256 i; i < 4; i++) {\n            if (token == pool.coins(i)) {\n                amounts[i] = amount;\n                return amounts;\n            }\n        }\n        revert(\"CH: INVALID_INPUT_TOKEN\");\n    }\n\n    /// @dev Remove liquidity from a Curve pool\n    /// @param pool The Curve pool to remove liquidity from\n    /// @param amount The Curve pool LP token to withdraw\n    /// @param outputToken One of the Curve pool token\n    /// @param poolCoinAmount The amount of token in the Curve pool\n    /// @param signature The signature of the remove_liquidity_one_coin\n    ///                  function to be used to call to the Curve pool\n    /// @return success If the call to remove liquidity succeeded\n    function removeLiquidityOneCoin(\n        ICurvePool pool,\n        uint256 amount,\n        address outputToken,\n        uint256 poolCoinAmount,\n        bytes4 signature\n    ) internal returns (bool success) {\n        for (uint256 i; i < poolCoinAmount; i++) {\n            if (outputToken == pool.coins(i)) {\n                (success, ) = address(pool).call(abi.encodeWithSelector(signature, amount, i, 0));\n                return success;\n            }\n        }\n        revert(\"CH: INVALID_OUTPUT_TOKEN\");\n    }\n}"
    }
  ]
}