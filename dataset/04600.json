{
  "Title": "Inconsistent order of arguments of calculatePrice",
  "Content": "The function `calculatePrice` is defined in [`PricingStrategy`](https://github.com/CoinFabrik/ico/blob/142f43f3bec4afd0ffff3fce06946cf67cb0272f/contracts/PricingStrategy.sol#L36) to take five arguments including `weiRaised` and `tokensSold`. These two are swapped in the implementation of the function in [`FlatPricing`](https://github.com/CoinFabrik/ico/blob/142f43f3bec4afd0ffff3fce06946cf67cb0272f/contracts/FlatPricing.sol#L29) and its use in [`Crowdsale`](https://github.com/CoinFabrik/ico/blob/142f43f3bec4afd0ffff3fce06946cf67cb0272f/contracts/Crowdsale.sol#L186). It presently causes no problem because the implementation and usage are consistent. If a new pricing strategy is implemented using the documented order, the contract can break. Fix the interface to use the same order: `calculatePrice(uint value`, `uint weiRaised`, `uint tokensSold`, `address msgSender`, `uint decimals)`.\n\n\n**Update:** Hubii replied *“The name of the arguments and the documentation was fixed to reflect the actual usage. But, this issue is not severe since it does not affect the contract behavior.”* Fixed in [`c3fc1798313e3c2bd98decb57f97f74e5f003209`](https://github.com/CoinFabrik/ico/commit/c3fc1798313e3c2bd98decb57f97f74e5f003209) .\n\n\n",
  "Impact": "HIGH",
  "Source": "",
  "Code": [
    {
      "filename": "contracts/PricingStrategy.sol",
      "content": "pragma solidity ^0.4.11;\n\n/**\n * Originally from https://github.com/TokenMarketNet/ico\n */\n\n/**\n * Interface for defining crowdsale pricing.\n */\ncontract PricingStrategy {\n\n  /** Interface declaration. */\n  function isPricingStrategy() public constant returns (bool) {\n    return true;\n  }\n\n  /** Self check if all references are correctly set.\n   *\n   * Checks that pricing strategy matches crowdsale parameters.\n   */\n  function isSane(address crowdsale) public constant returns (bool) {\n    return true;\n  }\n\n  /**\n   * When somebody tries to buy tokens for X eth, calculate how many tokens they get.\n   *\n   *\n   * @param value - What is the value of the transaction sent in as wei\n   * @param tokensSold - how many tokens have been sold this far\n   * @param weiRaised - how much money has been raised this far\n   * @param msgSender - who is the investor of this transaction\n   * @param decimals - how many decimal units the token has\n   * @return Amount of tokens the investor receives\n   */\n  function calculatePrice(uint value, uint tokensSold, uint weiRaised, address msgSender, uint decimals) public constant returns (uint tokenAmount);\n}"
    }
  ]
}