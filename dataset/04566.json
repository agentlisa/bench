{
  "Title": "Possible to initiate Ownership Transfer with the null address",
  "Content": "Function [`initiateOwnershipTransfer`](https://github.com/OpenSTFoundation/SimpleTokenSale/blob/1a1e863441ba0149d7585203f5dbc6e800af00cf/contracts/Owned.sol#L41) allows initiating a transfer passing the `0x0` address as a `_proposedOwner.` This action will be ineffective as it’s impossible to call the [`completeOwnershipTransfer`](https://github.com/OpenSTFoundation/SimpleTokenSale/blob/1a1e863441ba0149d7585203f5dbc6e800af00cf/contracts/Owned.sol#L50) function from the `0x0`address. The null address is also used as a special value to mark that the transfer was completed so it’d be the best if it could be set only by internal invocation.\n\n\nIf the contract could be ownerless a confirmation step needs to be skipped for the `0x0` address. Otherwise, we recommend adding a precondition check preventing initiation of the ownership transfer with the`0x0` value.\n\n\n**Update**: *Fixed in this [pull request](https://github.com/OpenSTFoundation/SimpleTokenSale/pull/13). The team decided to postpone merging the changes to the master branch as it will require excessive refactor of all the tests.*\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "contracts/Owned.sol",
      "content": "pragma solidity ^0.4.17;\n\n// ----------------------------------------------------------------------------\n// Simple Token - Basic Ownership Implementation\n//\n// Copyright (c) 2017 Simple Token and Enuma Technologies.\n// http://www.simpletoken.com/\n//\n// The MIT Licence.\n// ----------------------------------------------------------------------------\n\n\n//\n// Implements basic ownership with 2-step transfers.\n//\ncontract Owned {\n\n    address public owner;\n    address public proposedOwner;\n\n    event OwnershipTransferInitiated(address indexed _proposedOwner);\n    event OwnershipTransferCompleted(address indexed _newOwner);\n\n\n    function Owned() public {\n        owner = msg.sender;\n    }\n\n\n    modifier onlyOwner() {\n        require(isOwner(msg.sender));\n        _;\n    }\n\n\n    function isOwner(address _address) internal view returns (bool) {\n        return (_address == owner);\n    }\n\n\n    function initiateOwnershipTransfer(address _proposedOwner) public onlyOwner returns (bool) {\n        proposedOwner = _proposedOwner;\n\n        OwnershipTransferInitiated(_proposedOwner);\n\n        return true;\n    }\n\n\n    function completeOwnershipTransfer() public returns (bool) {\n        require(msg.sender == proposedOwner);\n\n        owner = proposedOwner;\n        proposedOwner = address(0);\n\n        OwnershipTransferCompleted(owner);\n\n        return true;\n    }\n}"
    }
  ]
}