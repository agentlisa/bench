{
  "Title": "[N-05] Line Length",
  "Content": "\n### Context\n[`AlgebraPoolFactory.sol#L112`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraFactory.sol#L112), [`AlgebraPool.sol#L221`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L221), [`AlgebraPool.sol#L287`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L287), [`AlgebraPool.sol#L297`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L297), [`AlgebraPool.sol#L345`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L345), [`AlgebraPool.sol#L352`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L352), [`AlgebraPool.sol#L355`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L355), [`AlgebraPool.sol#L383`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L383), [`AlgebraPool.sol#L392`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L392), [`AlgebraPool.sol#L472`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L472), [`AlgebraPool.sol#L529`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L529), [`AlgebraPool.sol#L558`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L558), [`AlgebraPool.sol#L577`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L577), [`AlgebraPool.sol#L601`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L601), [`AlgebraPool.sol#L654`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L654), [`AlgebraPool.sol#L680`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L680), [`AlgebraPool.sol#L802`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L802), [`AlgebraPool.sol#L805`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L805), [`AlgebraPool.sol#L814`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L814), [`AlgebraPool.sol#L872-L873`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L872-L873), [`AlgebraPool.sol#L876`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L876), [`AlgebraPool.sol#L880`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/AlgebraPool.sol#L880), [`DataStorageOperator.sol#L45`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/DataStorageOperator.sol#L45), [`DataStorageOperator.sol#L78`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/DataStorageOperator.sol#L78), [`AdaptiveFee.sol#L38`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/AdaptiveFee.sol#L38), [`AdaptiveFee.sol#L76`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/AdaptiveFee.sol#L76), [`DataStorage.sol#L56-L57`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.solL56-L57), [`DataStorage.sol#L80-L81`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L80-L81), [`DataStorage.sol#L133`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L133), [`DataStorage.sol#L156`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L156), [`DataStorage.sol#L223`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L223), [`DataStorage.sol#L231`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L231), [`DataStorage.sol#L251`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L251), [`DataStorage.sol#L253`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L253), [`DataStorage.sol#L255`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L255), [`DataStorage.sol#L265`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L265), [`DataStorage.sol#L274-L276`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L274-L276), [`DataStorage.sol#L360`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L360), [`DataStorage.sol#L376`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L376), [`DataStorage.sol#L408`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L408), [`DataStorage.sol#L414`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L414), [`DataStorage.sol#L417`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/DataStorage.sol#L417), [`PriceMovementMath.sol#L64`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L64), [`PriceMovementMath.sol#L70`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L70), [`PriceMovementMath.sol#L80`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L80), [`PriceMovementMath.sol#L126`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L126), [`PriceMovementMath.sol#L153`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L153), [`PriceMovementMath.sol#L176`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/PriceMovementMath.sol#L176), [`TickManager.sol#L25`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TickManager.sol#L25), [`TickManager.sol#L37-L38`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TickManager.sol#L37-L38), [`TickManager.sol#L70`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TickManager.sol#L70), [`TickManager.sol#L128`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TickManager.sol#L128), [`TickTable.sol#L33-L39`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TickTable.sol#L33-L39), [`TokenDeltaMath.sol#L53`](https://github.com/code-423n4/2022-09-quickswap/blob/main/src/core/contracts/libraries/TokenDeltaMath.sol#L53)\n\n### Description\nMax line length must be no more than 120 but many lines are extended past this length.\n\n### Recommendation\nConsider cutting down the line length below 120.\n\n",
  "Impact": "LOW",
  "Source": "https://code4rena.com/reports/2022-09-quickswap",
  "Code": [
    {
      "filename": "src/core/contracts/AlgebraFactory.sol",
      "content": "// SPDX-License-Identifier: BUSL-1.1\npragma solidity =0.7.6;\npragma abicoder v2;\n\nimport './interfaces/IAlgebraFactory.sol';\nimport './interfaces/IAlgebraPoolDeployer.sol';\nimport './interfaces/IDataStorageOperator.sol';\nimport './libraries/AdaptiveFee.sol';\nimport './DataStorageOperator.sol';\n\n/**\n * @title Algebra factory\n * @notice Is used to deploy pools and its dataStorages\n */\ncontract AlgebraFactory is IAlgebraFactory {\n  /// @inheritdoc IAlgebraFactory\n  address public override owner;\n\n  /// @inheritdoc IAlgebraFactory\n  address public immutable override poolDeployer;\n\n  /// @inheritdoc IAlgebraFactory\n  address public override farmingAddress;\n\n  /// @inheritdoc IAlgebraFactory\n  address public override vaultAddress;\n\n  // values of constants for sigmoids in fee calculation formula\n  AdaptiveFee.Configuration public baseFeeConfiguration =\n    AdaptiveFee.Configuration(\n      3000 - Constants.BASE_FEE, // alpha1\n      15000 - 3000, // alpha2\n      360, // beta1\n      60000, // beta2\n      59, // gamma1\n      8500, // gamma2\n      0, // volumeBeta\n      10, // volumeGamma\n      Constants.BASE_FEE // baseFee\n    );\n\n  modifier onlyOwner() {\n    require(msg.sender == owner);\n    _;\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  mapping(address => mapping(address => address)) public override poolByPair;\n\n  constructor(address _poolDeployer, address _vaultAddress) {\n    owner = msg.sender;\n    emit Owner(msg.sender);\n\n    poolDeployer = _poolDeployer;\n    vaultAddress = _vaultAddress;\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  function createPool(address tokenA, address tokenB) external override returns (address pool) {\n    require(tokenA != tokenB);\n    (address token0, address token1) = tokenA < tokenB ? (tokenA, tokenB) : (tokenB, tokenA);\n    require(token0 != address(0));\n    require(poolByPair[token0][token1] == address(0));\n\n    IDataStorageOperator dataStorage = new DataStorageOperator(computeAddress(token0, token1));\n\n    dataStorage.changeFeeConfiguration(baseFeeConfiguration);\n\n    pool = IAlgebraPoolDeployer(poolDeployer).deploy(address(dataStorage), address(this), token0, token1);\n\n    poolByPair[token0][token1] = pool; // to avoid future addresses comparing we are populating the mapping twice\n    poolByPair[token1][token0] = pool;\n    emit Pool(token0, token1, pool);\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  function setOwner(address _owner) external override onlyOwner {\n    require(owner != _owner);\n    emit Owner(_owner);\n    owner = _owner;\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  function setFarmingAddress(address _farmingAddress) external override onlyOwner {\n    require(farmingAddress != _farmingAddress);\n    emit FarmingAddress(_farmingAddress);\n    farmingAddress = _farmingAddress;\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  function setVaultAddress(address _vaultAddress) external override onlyOwner {\n    require(vaultAddress != _vaultAddress);\n    emit VaultAddress(_vaultAddress);\n    vaultAddress = _vaultAddress;\n  }\n\n  /// @inheritdoc IAlgebraFactory\n  function setBaseFeeConfiguration(\n    uint16 alpha1,\n    uint16 alpha2,\n    uint32 beta1,\n    uint32 beta2,\n    uint16 gamma1,\n    uint16 gamma2,\n    uint32 volumeBeta,\n    uint16 volumeGamma,\n    uint16 baseFee\n  ) external override onlyOwner {\n    require(uint256(alpha1) + uint256(alpha2) + uint256(baseFee) <= type(uint16).max, 'Max fee exceeded');\n    require(gamma1 != 0 && gamma2 != 0 && volumeGamma != 0, 'Gammas must be > 0');\n\n    baseFeeConfiguration = AdaptiveFee.Configuration(alpha1, alpha2, beta1, beta2, gamma1, gamma2, volumeBeta, volumeGamma, baseFee);\n    emit FeeConfiguration(alpha1, alpha2, beta1, beta2, gamma1, gamma2, volumeBeta, volumeGamma, baseFee);\n  }\n\n  bytes32 internal constant POOL_INIT_CODE_HASH = 0x6ec6c9c8091d160c0aa74b2b14ba9c1717e95093bd3ac085cee99a49aab294a4;\n\n  /// @notice Deterministically computes the pool address given the factory and PoolKey\n  /// @param token0 first token\n  /// @param token1 second token\n  /// @return pool The contract address of the Algebra pool\n  function computeAddress(address token0, address token1) internal view returns (address pool) {\n    pool = address(uint256(keccak256(abi.encodePacked(hex'ff', poolDeployer, keccak256(abi.encode(token0, token1)), POOL_INIT_CODE_HASH))));\n  }\n}"
    }
  ]
}