{
  "Title": "Missing error messages in require statements",
  "Content": "There are several require statements (such as [`Escrow`](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L70) [:L70](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L70) , [`Escrow`](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L89) [:L89](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L89) , [`Escrow`](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L109) [:L109](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/Escrow.sol#L109) , [`RenderToken`](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/RenderToken.sol#L40) [:L40](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/RenderToken.sol#L40) , [`RenderToken`](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/RenderToken.sol#L45) [:L45](https://github.com/jeualvarez/Token-Audit/blob/e946177747e57312690775204834b8fca1bbb0d5/contracts/RenderToken.sol#L45) ) that provide no error messages. Consider including specific and informative error messages in all require statements.\n\n\n***Update:** all `require` statements now provide appropriate error messages.*\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "contracts/Escrow.sol",
      "content": "pragma solidity ^0.4.18;\n\nimport \"../node_modules/openzeppelin-zos/contracts/token/ERC20/MintableToken.sol\";\n\n/**\n * @title Escrow\n * @dev Escrow contract that works with RNDR token\n * This contract holds tokens while render jobs are being completed\n * and information on token allottment per job\n */\ncontract Escrow is Migratable, Ownable {\n  using SafeMath for uint256;\n\n  // This is a mapping of job IDs to the number of tokens allotted to the job\n  mapping(string => uint256) jobBalances;\n  // This is the address of the render token contract\n  address public renderTokenAddress;\n  // This is the address with authority to call the disburseJob function\n  address public disbursalAddress;\n\n  // Emit the jobId along with the new balance of the job\n  // Used on job creation, additional funding added to jobs, and job disbursal\n  // Internal systems for assigning jobs will watch this event to determine balances available\n  event JobBalanceUpdate (string _jobId, uint256 _balance);\n\n  /**\n   * @dev Constructor\n   * @param _owner because this contract uses proxies, owner must be passed in as a param\n   * @param _renderTokenAddress see renderTokenAddress\n   */\n  function initialize (address _owner, address _renderTokenAddress) public isInitializer(\"Escrow\", \"0\") {\n    Ownable.initialize(_owner);\n    disbursalAddress = _owner;\n    renderTokenAddress = _renderTokenAddress;\n  }\n\n  /**\n   * @dev Change the address authorized to distribute tokens for completed jobs\n   *\n   * Because there are no on-chain details to indicate who performed a render, an outside\n   * system must call the disburseJob function with the information needed to properly\n   * distribute tokens. This function updates the address with the authority to perform distributions\n   * @param _newDisbursalAddress see disbursalAddress\n   */\n  function changeDisbursalAddress(address _newDisbursalAddress) public onlyOwner {\n    disbursalAddress = _newDisbursalAddress;\n  }\n\n  /**\n   * @dev Change the address allowances will be sent to after job completion\n   *\n   * Ideally, this will not be used, but is included as a failsafe\n   * @param _newRenderTokenAddress see renderTokenAddress\n   */\n  function changeRenderTokenAddress(address _newRenderTokenAddress) public onlyOwner {\n    renderTokenAddress = _newRenderTokenAddress;\n  }\n\n  /**\n   * @dev Send allowances to node(s) that performed a job\n   *\n   * This can only be called by the disbursalAddress, an accound owned\n   * by OTOY, and it provides the number of tokens to send to each node\n   * @param _jobId the ID of the job used in the jobBalances mapping\n   * @param _recipients the address(es) of the nodes that performed rendering\n   * @param _amounts the amount(s) to send to each address. These must be in the same\n   * order as the recipient addresses\n   */\n  function disburseJob(string _jobId, address[] _recipients, uint256[] _amounts) public canDisburse {\n    require(jobBalances[_jobId] > 0);\n\n    for(uint i = 0; i < _recipients.length; i++) {\n      jobBalances[_jobId] = jobBalances[_jobId].sub(_amounts[i]);\n      StandardToken(renderTokenAddress).increaseApproval(_recipients[i], _amounts[i]);\n    }\n\n    emit JobBalanceUpdate(_jobId, jobBalances[_jobId]);\n  }\n\n  /**\n   * @dev Add RNDR tokens to a job\n   *\n   * This can only be called by a function on the RNDR token contract\n   * @param _jobId the ID of the job used in the jobBalances mapping\n   * @param _tokens the number of tokens sent by the artist to fund the job\n   */\n  function fundJob(string _jobId, uint256 _tokens) public {\n    // Jobs can only be created through the RNDR contract\n    require(msg.sender == renderTokenAddress);\n\n    jobBalances[_jobId] = jobBalances[_jobId].add(_tokens);\n\n    emit JobBalanceUpdate(_jobId, jobBalances[_jobId]);\n  }\n\n  /**\n   * @dev See the tokens available for a job\n   *\n   * @param _jobId the ID used to lookup the job balance\n   */\n  function jobBalance(string _jobId) public view returns(uint256) {\n    return jobBalances[_jobId];\n  }\n\n  /**\n   * @dev Modifier to check if the message sender can call the disburseJob function\n   */\n  modifier canDisburse() {\n    require(msg.sender == disbursalAddress);\n    _;\n  }\n\n}"
    }
  ]
}