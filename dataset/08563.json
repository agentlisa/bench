{
  "Title": "[N-01] State Variable Visibility Is Not Set",
  "Content": "\nVisibility is not set for the `token` state variable.\n\n<https://github.com/code-423n4/2022-07-fractional/blob/8f2697ae727c60c93ea47276f8fa128369abfe51/src/utils/Metadata.sol#L13>\n\n```solidity\n/// @title Metadata\n/// @author Fractional Art\n/// @notice Utility contract for storing metadata of an FERC1155 token\ncontract Metadata {\n    /// @notice Address of FERC1155 token contract\n    address immutable token;\n```\n\n<https://github.com/code-423n4/2022-07-fractional/blob/8f2697ae727c60c93ea47276f8fa128369abfe51/src/references/SupplyReference.sol#L12>\n\n```solidity\n/// @title Supply\n/// @author Fractional Art\n/// @notice Reference implementation for the optimized Supply target contract\ncontract SupplyReference is ISupply {\n    /// @notice Address of VaultRegistry contract\n    address immutable registry;\n```\n\n### Recommendation\n\nIt is best practice to set the visibility of state variables explicitly. The default visibility for \"token\" is internal. Other possible visibility settings are public and private.\n\n",
  "Impact": "LOW",
  "Source": "https://code4rena.com/reports/2022-07-fractional",
  "Code": [
    {
      "filename": "src/utils/Metadata.sol",
      "content": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.13;\n\nimport {IFERC1155} from \"../interfaces/IFERC1155.sol\";\n\n/// @title Metadata\n/// @author Fractional Art\n/// @notice Utility contract for storing metadata of an FERC1155 token\ncontract Metadata {\n    /// @notice Address of FERC1155 token contract\n    address immutable token;\n    /// @dev Mapping of ID type to URI of metadata\n    mapping(uint256 => string) private tokenMetadata;\n\n    /// @notice Initializes token contract\n    constructor(address _token) {\n        token = _token;\n    }\n\n    /// @notice Sets the metadata of a given token ID type\n    /// @dev Can only be set by the token controller\n    /// @param _uri URI of the token metadata\n    /// @param _id ID of the token type\n    function setURI(uint256 _id, string memory _uri) external {\n        address controller = IFERC1155(token).controller();\n        if (msg.sender != controller)\n            revert IFERC1155.InvalidSender(controller, msg.sender);\n\n        tokenMetadata[_id] = _uri;\n        IFERC1155(token).emitSetURI(_id, _uri);\n    }\n\n    /// @notice Gets the metadata of a token ID type\n    /// @param _id ID of the token type\n    /// @return URI of the token metadata\n    function uri(uint256 _id) public view returns (string memory) {\n        return tokenMetadata[_id];\n    }\n}"
    },
    {
      "filename": "src/references/SupplyReference.sol",
      "content": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.13;\n\nimport {ISupply} from \"../interfaces/ISupply.sol\";\nimport {IVaultRegistry} from \"../interfaces/IVaultRegistry.sol\";\n\n/// @title Supply\n/// @author Fractional Art\n/// @notice Reference implementation for the optimized Supply target contract\ncontract SupplyReference is ISupply {\n    /// @notice Address of VaultRegistry contract\n    address immutable registry;\n\n    /// @notice Initializes address of registry contract\n    constructor(address _registry) {\n        registry = _registry;\n    }\n\n    /// @notice Mints fractional tokens\n    /// @param _to Target address\n    /// @param _value Transfer amount\n    function mint(address _to, uint256 _value) external {\n        IVaultRegistry(registry).mint(_to, _value);\n    }\n\n    /// @notice Burns fractional tokens\n    /// @param _from Source address\n    /// @param _value Burn amount\n    function burn(address _from, uint256 _value) external {\n        IVaultRegistry(registry).burn(_from, _value);\n    }\n}"
    }
  ]
}