{
  "Title": "[L01] Celo registry address defined multiple times",
  "Content": "In the codebase, the celo registry address (`0x000000000000000000000000000000000000ce10`) is used multiple times and defined multiple times. For instance, it is defined as a [`const` in `registry-utils.ts`](https://github.com/celo-org/celo-monorepo/blob/0e876e5cad0e93f5dd1fff853f4be3c9a0e5c2a7/packages/protocol/lib/registry-utils.ts#L1). The value is also used [in `deploy_release_contracts.ts`](https://github.com/celo-org/celo-monorepo/blob/0e876e5cad0e93f5dd1fff853f4be3c9a0e5c2a7/packages/protocol/scripts/truffle/deploy_release_contracts.ts#L89) and defined as a new [`const` in `make-release.ts`](https://github.com/celo-org/celo-monorepo/blob/0e876e5cad0e93f5dd1fff853f4be3c9a0e5c2a7/packages/protocol/scripts/truffle/make-release.ts#L55).\n\n\nIf a change is ever made to one instance of this value, it may not be reflected across the entire codebase. Consider referencing only a single instance of the value across all files. This will make the codebase more cohesive and reduce the surface for developer error.\n\n\n**Update**: *Fixed in [PR#6381](https://github.com/celo-org/celo-monorepo/pull/6381).*\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "packages/protocol/lib/registry-utils.ts",
      "content": "export const celoRegistryAddress = '0x000000000000000000000000000000000000ce10'\n\nexport enum CeloContractName {\n  Accounts = 'Accounts',\n  Attestations = 'Attestations',\n  BlockchainParameters = 'BlockchainParameters',\n  DoubleSigningSlasher = 'DoubleSigningSlasher',\n  DowntimeSlasher = 'DowntimeSlasher',\n  Election = 'Election',\n  EpochRewards = 'EpochRewards',\n  Escrow = 'Escrow',\n  Exchange = 'Exchange',\n  FeeCurrencyWhitelist = 'FeeCurrencyWhitelist',\n  Freezer = 'Freezer',\n  GasPriceMinimum = 'GasPriceMinimum',\n  GoldToken = 'GoldToken',\n  Governance = 'Governance',\n  GovernanceSlasher = 'GovernanceSlasher',\n  GovernanceApproverMultiSig = 'GovernanceApproverMultiSig',\n  LockedGold = 'LockedGold',\n  Random = 'Random',\n  Reserve = 'Reserve',\n  ReserveSpenderMultiSig = 'ReserveSpenderMultiSig',\n  SortedOracles = 'SortedOracles',\n  StableToken = 'StableToken',\n  TransferWhitelist = 'TransferWhitelist',\n  Validators = 'Validators',\n}\n\n// TODO(amy): Pull this list from the build artifacts instead\nexport const usesRegistry = [\n  CeloContractName.Escrow,\n  CeloContractName.Reserve,\n  CeloContractName.StableToken,\n]\n\n// TODO(amy): Find another way to create this list\nexport const hasEntryInRegistry: string[] = [\n  CeloContractName.Accounts,\n  CeloContractName.Attestations,\n  CeloContractName.BlockchainParameters,\n  CeloContractName.DoubleSigningSlasher,\n  CeloContractName.DowntimeSlasher,\n  CeloContractName.Election,\n  CeloContractName.Escrow,\n  CeloContractName.Exchange,\n  CeloContractName.FeeCurrencyWhitelist,\n  CeloContractName.Freezer,\n  CeloContractName.GasPriceMinimum,\n  CeloContractName.GoldToken,\n  CeloContractName.GovernanceSlasher,\n  CeloContractName.Random,\n  CeloContractName.Reserve,\n  CeloContractName.SortedOracles,\n  CeloContractName.StableToken,\n]"
    }
  ]
}