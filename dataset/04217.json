{
  "Title": "[L06] Multiple getters for the same state variable",
  "Content": "**Update:** *Fixed in [pull request #73](https://github.com/endaoment/endaoment-contracts/pull/73).*\n\n\nSome contracts in the code base contain multiple public getter functions for the same state variable.\n\n\nFor example:\n\n\n* In the `FundFactory` contract, the automatically generated getter for the `public` [`createdFunds`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/FundFactory.sol#L20) array is duplicated by the explicit [`getFund`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/FundFactory.sol#L53) getter.\n* In the `OrgFactory` contract, the automatically generated getters for the `public` [`allowedOrgs`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/OrgFactory.sol#L20) mapping and the [`deployedOrgs`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/OrgFactory.sol#L19) array are duplicated by the explicit [`getAllowedOrg`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/OrgFactory.sol#L62) and [`getDeployedOrg`](https://github.com/endaoment/endaoment-contracts/blob/f60aa253d3d869ad6460877f23e6092acb313add/contracts/OrgFactory.sol#L54) getters.\n\n\nTo avoid duplication, ensure that there is at most one publicly exposed getter for each contract state variable. Consider making all the state variables private, following the style of the openzeppelin-contracts package.\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "contracts/FundFactory.sol",
      "content": "// SPDX-License-Identifier: BSD 3-Clause\n\npragma solidity ^0.6.10;\n\nimport \"./Administratable.sol\";\nimport \"./OrgFactory.sol\";\nimport \"./Fund.sol\";\n\n// FUND FACTORY CONTRACT\n/**\n * @title FundFactory\n * @author rheeger\n * @notice FundFactory is a contract that allows the EndaomentAdmin to \n * instantiate new Fund contracts. It also provides for fetching of \n * individual Org contract addresses as well as a list of all \n * allowedOrgs. \n */\ncontract FundFactory is Administratable {\n// ========== STATE VARIABLES ==========\n    Fund[] public createdFunds;\n    event fundCreated(address indexed newAddress);\n    \n// ========== CONSTRUCTOR ==========    \n    /**\n    * @notice Create new Fund Factory\n    * @param adminContractAddress Address of EndaomentAdmin contract. \n    */\n    constructor(address adminContractAddress) public onlyAdmin(adminContractAddress) {}\n        \n// ========== Fund Creation & Management ==========\n    /**\n    * @notice Creates new Fund and emits fundCreated event. \n    * @param managerAddress The address of the Fund's Primary Advisor\n    * @param adminContractAddress Address of EndaomentAdmin contract. \n    */\n    function createFund(address managerAddress, address adminContractAddress) public onlyAdminOrRole(adminContractAddress, IEndaomentAdmin.Role.ACCOUNTANT) {\n        Fund newFund = new Fund(managerAddress, adminContractAddress);\n        createdFunds.push(newFund);\n        emit fundCreated(address(newFund));\n    }\n\n    /**\n    * @notice Returns total number of funds created by the factory. \n    */\n    function countFunds() public view returns (uint) {\n        return createdFunds.length;\n    }\n\n    /**\n    * @notice Returns address of a specific fund in createdFunds[] \n    * @param index The index position of the Fund \n    */\n    function getFund(uint index) public view returns (address) {\n        return address(createdFunds[index]); \n    }\n\n}"
    },
    {
      "filename": "contracts/OrgFactory.sol",
      "content": "// SPDX-License-Identifier: BSD 3-Clause\n\npragma solidity ^0.6.10;\n\nimport \"./Administratable.sol\";\nimport \"./Org.sol\";\n\n//ORG FACTORY CONTRACT\n/**\n * @title OrgFactory\n * @author rheeger\n * @notice OrgFactory is a contract that allows the EndaomentAdmin to \n * instantiate new Org contracts. It also provides for fetching of \n * individual Org contract addresses as well as a list of all \n * allowedOrgs. \n */\ncontract OrgFactory is Administratable {\n// ========== STATE VARIABLES==========\n    Org[] public deployedOrgs;\n    mapping(address => bool) public allowedOrgs;\n    event orgCreated(address indexed newAddress);\n\n// ========== CONSTRUCTOR ==========        \n    /**\n    * @notice Create new Org Factory\n    * @param adminContractAddress Address of EndaomentAdmin contract. \n    */\n    constructor(address adminContractAddress) public onlyAdmin(adminContractAddress) {}\n\n// ========== Org Creation & Management ==========\n    /**\n    * @notice  Create new Org Contract\n    * @param ein The U.S. Tax Identification Number for the Organization\n    * @param adminContractAddress Contract address for Endaoment Admin\n    */\n    function createOrg(uint ein, address adminContractAddress) public onlyAdminOrRole(adminContractAddress, IEndaomentAdmin.Role.ACCOUNTANT){\n        Org newOrg = new Org(ein, adminContractAddress);\n        deployedOrgs.push(newOrg);\n        allowedOrgs[address(newOrg)] = true;\n        emit orgCreated(address(newOrg));\n    }\n\n    /**\n    * @notice Returns total number Org contracts created by the factory. \n    */\n    function countDeployedOrgs() public view returns (uint) {\n        return deployedOrgs.length;\n    }\n\n    /**\n    * @notice Returns address of given index postiion in deployedOrgs[]. \n    * @param index Array position of requested org\n    */\n    function getDeployedOrg(uint index) public view returns (address) {\n        return address(deployedOrgs[index]);\n    }\n\n    /**\n    * @notice Returns boolean is provided address is present in allowedOrgs[]. \n    * @param Org address of the organization contract requested.\n    */\n    function getAllowedOrg(address Org) public view returns (bool){\n        return allowedOrgs[Org];\n    }\n}"
    }
  ]
}