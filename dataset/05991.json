{
  "Title": "[09] Consider using descriptive constants when passing zero as a function argument",
  "Content": "Passing zero as a function argument can sometimes result in a security issue (e.g. passing zero as the slippage parameter, fees, token amounts ...). Consider using a constant variable with a descriptive name, so it's clear that the argument is intentionally being used, and for the right reasons.\n\nHere is one specific instance found.\n\nhttps://github.com/GenerationSoftware/pt-v5-draw-auction/blob/f1c6d14a1772d6609de1870f8713fb79977d51c1/src/RngAuctionRelayerRemoteOwner.sol#L65\n\n```solidity\n            RemoteOwnerCallEncoder.encodeCalldata(address(_remoteRngAuctionRelayListener), 0, listenerCalldata)\n```\n\n",
  "Impact": "LOW",
  "Source": "https://code4rena.com/reports/2023-08-pooltogether",
  "Code": [
    {
      "filename": "src/RngAuctionRelayerRemoteOwner.sol",
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.19;\n\nimport { RemoteOwner } from \"remote-owner/RemoteOwner.sol\";\nimport { RemoteOwnerCallEncoder } from \"remote-owner/libraries/RemoteOwnerCallEncoder.sol\";\nimport { ISingleMessageDispatcher } from \"erc5164/interfaces/ISingleMessageDispatcher.sol\";\n\nimport {\n    RngAuctionRelayer,\n    RngAuction,\n    IRngAuctionRelayListener\n} from \"./abstract/RngAuctionRelayer.sol\";\n\n/// @title RngAuctionRelayerRemoteOwner\n/// @author G9 Software Inc.\n/// @notice This contract allows anyone to relay RNG results to an IRngAuctionRelayListener on another chain.\n/// @dev This contract uses a Remote Owner, which allows a contract on one chain to operate an address on another chain.\ncontract RngAuctionRelayerRemoteOwner is RngAuctionRelayer {\n\n    /// @notice Emitted when the relay was successfully dispatched to the ERC-5164 Dispatcher\n    /// @param rewardRecipient The address that shall receive the RNG relay reward.\n    /// @param messageId The message ID of the dispatched message.\n    event RelayedToDispatcher(address indexed rewardRecipient, bytes32 indexed messageId);\n\n    /// @notice The ERC-5164 Dispatcher to use to bridge messages\n    ISingleMessageDispatcher public immutable messageDispatcher;\n\n    /// @notice The address of the Remote Owner that this contract is attached to.\n    /// @dev Note: the Remote Owner lives on the destination chain, not the chain on which the relayer lives.\n    RemoteOwner public immutable account;\n\n    /// @notice The chain ID that the Remote Owner is deployed to.\n    uint256 public immutable toChainId;\n\n    /// @notice Constructs a new contract\n    /// @param _rngAuction The RNG auction to pull results from.\n    /// @param _messageDispatcher The ERC-5164 Dispatcher to use to bridge messages\n    /// @param _remoteOwner The address of the Remote Owner that this contract is attached to.\n    /// @param _toChainId The chain ID that the Remote Owner is deployed to.\n    constructor(\n        RngAuction _rngAuction,\n        ISingleMessageDispatcher _messageDispatcher,\n        RemoteOwner _remoteOwner,\n        uint256 _toChainId\n    ) RngAuctionRelayer(_rngAuction) {\n        messageDispatcher = _messageDispatcher;\n        account = _remoteOwner;\n        toChainId = _toChainId;\n    }\n\n    /// @notice Relays the RNG results through the 5164 message dispatcher to the remote rngAuctionRelayListener on the other chain.\n    /// @dev Note that some bridges require an additional transaction to bridge the message.\n    /// For example, both Arbitrum and zkSync require off-chain information to accomplish this. See ERC-5164 implementations for more details.\n    /// @param _remoteRngAuctionRelayListener The address of the IRngAuctionRelayListener to relay to on the other chain.\n    /// @param rewardRecipient The address that shall receive the RngAuctionRelay reward. Note that this address must be able to receive rewards on the other chain.\n    /// @return The message ID of the dispatched message.\n    function relay(\n        IRngAuctionRelayListener _remoteRngAuctionRelayListener,\n        address rewardRecipient\n    ) external returns (bytes32) {\n        bytes memory listenerCalldata = encodeCalldata(rewardRecipient);\n        bytes32 messageId = messageDispatcher.dispatchMessage(\n            toChainId,\n            address(account),\n            RemoteOwnerCallEncoder.encodeCalldata(address(_remoteRngAuctionRelayListener), 0, listenerCalldata)\n        );\n        emit RelayedToDispatcher(rewardRecipient, messageId);\n        return messageId;\n    }\n}"
    }
  ]
}