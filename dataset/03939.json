{
  "Title": "[L04] Multiple outdated Solidity versions in use",
  "Content": "Outdated versions of Solidity are being used in all contracts. The compiler options in the [`truffle-config` file](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/truffle-config.js#L105) specifies version `0.6.6`, which was released on April 6, 2020. Throughout the codebase there are also different versions of Solidity being used. For example, most of the Solidity files specify supported versions `^0.6.0`, while the following files specify supported versions `^0.6.2`:\n\n\n* [`IPCVDeposit.sol`](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/contracts/pcv/IPCVDeposit.sol)\n* [`IUniswapPCVController.sol`](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/contracts/pcv/IUniswapPCVController.sol)\n* [`IFei.sol`](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/contracts/token/IFei.sol)\n* [`IIncentive.sol`](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/contracts/token/IIncentive.sol)\n* [`IUniswapIncentive.sol`](https://github.com/fei-protocol/fei-protocol-core/blob/29aeefddd97f31c7f2a598fb3dca3ef24dc0beb4/contracts/token/IUniswapIncentive.sol)\n\n\nAs Solidity is now under a fast release cycle, consider using a more recent version of the compiler, such as version [`0.7.6`](https://github.com/ethereum/solidity/releases/tag/v0.7.6). In addition, to avoid unexpected behavior, consider specifying explicit Solidity versions in pragma statements.\n\n\n**Update:** *Not fixed. In the words of the Fei Team: “It is not possible due to dependence on solidity compiler version 0.6.6 due to Uniswap interfaces”.*\n\n\n",
  "Impact": "LOW",
  "Source": "",
  "Code": [
    {
      "filename": "truffle-config.js",
      "content": "/**\n * Use this file to configure your truffle project. It's seeded with some\n * common settings for different networks and features like migrations,\n * compilation and testing. Uncomment the ones you need or modify\n * them to suit your project as necessary.\n *\n * More information about configuration can be found at:\n *\n * truffleframework.com/docs/advanced/configuration\n *\n * To deploy via Infura you'll need a wallet provider (like @truffle/hdwallet-provider)\n * to sign your transactions before they're sent to a remote public node. Infura accounts\n * are available for free at: infura.io/register.\n *\n * You'll also need a mnemonic - the twelve word phrase the wallet uses to generate\n * public/private key pairs. If you're publishing your code to GitHub make sure you load this\n * phrase from a file you've .gitignored so it doesn't accidentally become public.\n *\n */\n\n// const HDWalletProvider = require('@truffle/hdwallet-provider');\n// const infuraKey = \"fj4jll3k.....\";\n//\n// const fs = require('fs');\n// const mnemonic = fs.readFileSync(\".secret\").toString().trim();\n\nmodule.exports = {\n  /**\n   * Networks define how you connect to your ethereum client and let you set the\n   * defaults web3 uses to send transactions. If you don't specify one truffle\n   * will spin up a development blockchain for you on port 9545 when you\n   * run `develop` or `test`. You can ask a truffle command to use a specific\n   * network from the command line, e.g\n   *\n   * $ truffle test --network <network-name>\n   */\n\n  networks: {\n    // Useful for testing. The `development` name is special - truffle uses it by default\n    // if it's defined here and no other network is specified at the command line.\n    // You should run a client (like ganache-cli, geth or parity) in a separate terminal\n    // tab if you use this network and you must also set the `host`, `port` and `network_id`\n    // options below to some value.\n    \n    development: {\n     host: \"127.0.0.1\",     // Localhost (default: none)\n     port: 7545,            // Standard Ethereum port (default: none)\n     gas: 8e6,\n     gasPrice: 20,\n     network_id: \"5777\",       // Any network (default: none)\n    },\n\n    ganache: {\n     host: \"127.0.0.1\",     // Localhost (default: none)\n     port: 7545,            // Standard Ethereum port (default: none)\n     gas: 8e6,\n     gasPrice: 20,\n     network_id: \"5777\",       // Any network (default: none)\n    },\n\n    graph: {\n      host: \"0.0.0.0\",\n      gas: 8e6,\n      port: 8545,\n      network_id: \"*\",\n    },\n\n    // Another network with more advanced options...\n    // advanced: {\n      // port: 8777,             // Custom port\n      // network_id: 1342,       // Custom network\n      // gas: 8500000,           // Gas sent with each transaction (default: ~6700000)\n      // gasPrice: 20000000000,  // 20 gwei (in wei) (default: 100 gwei)\n      // from: <address>,        // Account to send txs from (default: accounts[0])\n      // websockets: true        // Enable EventEmitter interface for web3 (default: false)\n    // },\n\n    // Useful for deploying to a public network.\n    // NB: It's important to wrap the provider as a function.\n    // ropsten: {\n      // provider: () => new HDWalletProvider(mnemonic, `https://ropsten.infura.io/v3/YOUR-PROJECT-ID`),\n      // network_id: 3,       // Ropsten's id\n      // gas: 5500000,        // Ropsten has a lower block limit than mainnet\n      // confirmations: 2,    // # of confs to wait between deployments. (default: 0)\n      // timeoutBlocks: 200,  // # of blocks before a deployment times out  (minimum/default: 50)\n      // skipDryRun: true     // Skip dry run before migrations? (default: false for public nets )\n    // },\n\n    // Useful for private networks\n    // private: {\n      // provider: () => new HDWalletProvider(mnemonic, `https://network.io`),\n      // network_id: 2111,   // This network is yours, in the cloud.\n      // production: true    // Treats this network as if it was a public net. (default: false)\n    // }\n  },\n\n  // Set default mocha options here, use special reporters etc.\n  mocha: {\n    // timeout: 100000\n  },\n\n  // Configure your compilers\n  compilers: {\n    solc: {\n      version: \"0.6.6\",    // Fetch exact version from solc-bin (default: truffle's version)\n      // docker: true,        // Use \"0.5.1\" you've installed locally with docker (default: false)\n      settings: {          // See the solidity docs for advice about optimization and evmVersion\n        optimizer: {\n          enabled: true,\n          runs: 200\n        }\n      }\n      //  evmVersion: \"byzantium\"\n      // }\n    }\n  },\n\n  plugins: [\"solidity-coverage\"]\n}"
    }
  ]
}